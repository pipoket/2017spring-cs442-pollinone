<!DOCTYPE html>
<html>
    <head>
        <title>Poll-in-one Transmission over the air - Proof of Concept</title>
        <script src="js/jquery.1.9.1.min.js"></script>
    </head>
    <body>
        <script src='js/class.js'></script>
        <script src='js/ReedSolomon.js'></script>
        <script src='js/ToneGenerator.js'></script>
        <script src='js/DTMFgenerator.js'></script>
        <script src='js/PollInOneTOA.js'></script>

        <h1>DTMF Generator</h1>
        <p>
            <label for="idDTMFNumber">Type Number</label>&nbsp;
            <input type="text" id="idDTMFNumber" />
            <button id="idDTMFPlay">Play</button>
        </p>

        <h1>SingleTone Generator</h1>
        <p>
            <label for="idSToneNumber">Type Number (0-65535)</label>&nbsp;
            <input type="text" id="idSToneNumber" />
            <button id="idSTonePlay">Play</button>&nbsp;
            <button id="idSToneStop">Stop</button>&nbsp;
            <audio id="idSToneBgm" loop style="visible:none;">
                <source src="media/bgm_hp.mp3" type="audio/mpeg" id="idSToneBgm">
            </audio>
        </p>
        <script type="text/javascript">
            (function() {
                $("#idDTMFPlay").click(function(evt) {
                    var toneTime = 87.5;
                    var delayTime = 0;
                    var preambleTime = 500;
                    var repeatTime = 3;
                    pollInOneDTMF.sendText($("#idDTMFNumber").val(), toneTime, delayTime, preambleTime, repeatTime);
                });

                $("#idSTonePlay").click(function(evt) {
                    var toneTime = 23 * 2;
                    var delayTime = 23 * 4;
                    var preambleTime = 23 * 2;
                    var repeatTime = 50;
                    pollInOneSTone.sendNumber($("#idSToneNumber").val(), toneTime, delayTime, preambleTime, repeatTime);
                    //document.getElementById("idSToneBgm").play();
                });

                $("#idSToneStop").click(function(evt) {
                    pollInOneSTone.stopSending();
                    //document.getElementById("idSToneBgm").pause();
                });
            })();
        </script>
    </body>
</html>
